<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="../../images/image.jpg" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS</title>
    <link rel="stylesheet" href="../../styles/style.css">
    <link rel="stylesheet" href="../../styles/prism.css">
    <script src="../../scripts/prism.js" defer></script>
    <script src="../../scripts/script.js" defer></script>
  </head>

  <body>
    <!--шапка с кнопками переходами-->
    <header class="main-header-top">
      <div class="header-logo">
        <img src="../../images/image2.png">
      </div>
      
      <ul>
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../../pages/html.html">HTML</a></li>
        <li><a href="../../pages/css.html">CSS</a></li>
        <li><a href="../../pages/js.html">JS</a></li>
      </ul>
    </header>

    <!--основной блок с информацией-->
    <main>
      <article>
        <h1>Оптимизация производительности CSS.</h1><hr>
        <p>Оптимизация CSS важна для ускорения загрузки страниц, улучшения пользовательского опыта и повышения эффективности работы браузера. Рассмотрим ключевые стратегии, которые помогут добиться наилучших результатов.</p>
        <h3>1. Минимизация и компрессия CSS</h3>
        <h4>Минимизация CSS</h4>
        <p>Минимизация убирает все лишние пробелы, переносы строк и комментарии из CSS-файлов, тем самым уменьшая их размер.</p>
        <ul>
          <li><strong>Инструменты для минимизации:</strong>
            <ul>
              <li><a href="https://github.com/cssnano/cssnano">CSSNano</a> и <a href="https://github.com/clean-css/clean-css">clean-css</a> — инструменты, которые минимизируют CSS код, убирая ненужные символы.</li>
              <li>Если вы используете сборщик, например Webpack или Gulp, существуют плагины для автоматической минимизации.</li>
            </ul>
          </li>
        </ul>
        <h4>Компрессия с помощью GZIP и Brotli</h4>
        <p>Сжатие GZIP или Brotli помогает уменьшить размер передаваемых CSS-файлов, что ускоряет их загрузку. Сервер автоматически распаковывает файл, и браузер получает сжатую версию файла.</p>
        <hr>
        <h3>2. Критический CSS и отложенная загрузка</h3>
        <h4>Критический CSS</h4>
        <p>Критический CSS содержит стили, которые необходимы для отображения первой видимой части страницы (Above the Fold). Этот CSS можно встроить непосредственно в <head>, чтобы контент отображался мгновенно.</p>
          <ul>
            <li><strong>Как выделить критический CSS:</strong>
              <ul>
                <li>Инструмент <a href="https://github.com/addyosmani/critical">Critical</a> позволяет автоматически генерировать критический CSS.</li>
                <li>Подключение критического CSS через <code>&lt;style></code> в <code>&lt;head></code>, а остальной CSS загружать асинхронно.</li>
              </ul>
            </li>
          </ul>
          <h4>Отложенная загрузка CSS</h4>
          <p>Можно использовать атрибут <code>media="print"</code> с последующим <code>onload</code> для загрузки неосновных CSS-файлов.</p>
<pre>
  <code class="lang-html">
    &lt;!-- HTML -->

    &lt;link rel="stylesheet" href="style.css" media="print" onload="this.media='all'">
  </code>
</pre>
        <hr>
        <h3>3. Объединение и разделение CSS-файлов</h3>
        <h4>Объединение файлов</h4>
        <p>Если у вас несколько CSS-файлов, объединение их в один файл уменьшит количество запросов на сервер. Это особенно полезно при небольших объемах CSS и значимо для мобильных устройств с ограниченной пропускной способностью.</p>
        <h4>Разделение CSS на модули</h4>
        <p>Когда проект большой, отдельные файлы для каждой страницы могут помочь избежать загрузки излишних стилей. Метод «code splitting» (разделение кода) позволяет загрузить только необходимые стили для конкретной страницы.</p>
        <hr>
        <h3>4. Сокращение использования универсальных и сложных селекторов</h3>
        <h4>Оптимизация селекторов</h4>
        <p>Сложные и универсальные селекторы замедляют производительность, так как браузеру нужно проверять больше элементов. Избегайте следующих селекторов:</p>
        <ul>
          <li><strong>Универсальный селектор</strong> (<code>*</code>) — проверяет каждый элемент на странице.</li>
          <li><strong>Длинные цепочки селекторов</strong> — например, <code>div > ul > li > a</code> может оказаться медленным.</li>
        </ul>
        <h4>Использование классов вместо тегов и ID</h4>
        <p>Выбирайте элементы по классам, так как это быстрее и более гибко. Использование тегов в качестве селекторов может привести к избыточному стилю и замедлению.</p>
        <hr>
        <h3>5. Избегайте CSS @import</h3>
        <p>Использование <code>@import</code> может замедлить загрузку CSS, так как каждый @import выполняется последовательно. Вместо этого подключайте файлы через <code>&lt;link></code> в <code>&lt;head></code>. Например:</p>
<pre>
  <code class="lang-html">
    &lt;!-- HTML -->

    &lt;link rel="stylesheet" href="main.css">
    &lt;link rel="stylesheet" href="responsive.css">
  </code>
</pre>
      <hr>
      <h3>6. Использование системных шрифтов и минимизация загрузки шрифтов</h3>
      <h4>Предзагрузка шрифтов</h4>
      <p>Включение <code>&lt;link rel="preload"></code> для шрифтов позволяет загрузить их раньше, чем другие ресурсы, что может сократить время отрисовки текста:</p>
<pre>
  <code class="lang-html">
    &lt;!-- HTML -->

    &lt;link rel="preload" href="/fonts/font.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  </code>
</pre>
        <h4>Системные шрифты</h4>
        <p>Использование системных шрифтов исключает необходимость загрузки кастомных, что сокращает общий размер CSS и улучшает производительность.</p>
        <hr>
        <h3>7. Удаление неиспользуемого CSS</h3>
        <p>Неиспользуемый CSS увеличивает объем файлов и замедляет загрузку. Инструменты для поиска и удаления неиспользуемого CSS:</p>
        <ol>
          <li><strong>PurgeCSS</strong> — анализирует HTML и JavaScript и удаляет неиспользуемые стили из CSS.</li>
          <li><strong>UnCSS</strong> — сканирует HTML для определения, какие CSS-селекторы не используются.</li>
        </ol>
        <hr>
        <h3>8. Использование CSS-переменных и сокращение повторов</h3>
        <p>CSS-переменные (<code>--variable</code>) позволяют снизить дублирование кода. Это не только делает CSS-файл более компактным, но и облегчает поддержку кода.</p>
<pre>
  <code class="lang-css">
    /*CSS*/

    :root {
      --main-color: #3498db;
    }
    
    .button {
      color: var(--main-color);
    }
  </code>
</pre>
        <hr>
        <h3>9. Анимации и трансформации</h3>
        <p>Анимации и трансформации могут оказывать значительное влияние на производительность, особенно при работе с большим количеством элементов.</p>
        <ol>
          <li><strong>Аппаратное ускорение</strong>: трансформации и анимации лучше применять на свойствах <code>transform</code> и <code>opacity</code>, так как они могут обрабатываться GPU, а не CPU.</li>
          <li><strong>Избегайте свойств, вызывающих рефлоу</strong>: свойства, такие как <code>top</code>, <code>left</code>, <code>width</code>, могут вызвать рефлоу, и лучше избегать их в анимациях.</li>
        </ol>
        <hr>
        <h3>10. Кэширование и уменьшение динамических CSS</h3>
        <p>Когда CSS-файлы кешируются, браузеру не нужно их заново загружать каждый раз при посещении сайта.</p>
        <ul>
          <li><strong>Заголовки кэша</strong>: настраиваются на сервере, указывая, как долго кешировать CSS. Например, <code>Cache-Control: max-age=31536000</code>.</li>
          <li><strong>Уменьшение динамических CSS</strong>: избегайте инлайн-стилей и CSS, создаваемых на стороне сервера, если их можно вынести в статический файл.</li>
        </ul>
        <p>Эти методы помогут сделать CSS-файлы максимально эффективными для быстрой загрузки и рендеринга страниц.</p>
      </article>
    </main>

    <!--блок в нижней части страницы-->
    <footer> 
      <p>©Copyright 2024 by nobody. All rights reversed.</p>
    </footer>

  </body>
</html>